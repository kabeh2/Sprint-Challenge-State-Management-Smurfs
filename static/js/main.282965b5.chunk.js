(this.webpackJsonpsmurfs=this.webpackJsonpsmurfs||[]).push([[0],{130:function(e,t,a){e.exports=a(288)},156:function(e,t,a){},287:function(e,t,a){},288:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(44),l=a.n(c),u=a(24),s=a(11),o=a(119),i=a(120),m=a(3),p=a.n(m),d=a(121),f=a(122),b=a(127),E=a(123),h=a(128),g=a(69),y=a(31),x=a.n(y),v="http://localhost:3333/smurfs",O=function(e){return{type:"FETCH_SUCCESS",payload:e}},R=function(e){return{type:"FETCH_ERROR",payload:e}},j=function(e,t){return function(a){var n,r;return p.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,p.a.awrap(x.a.put("".concat(v,"/").concat(e.id),t));case 3:n=c.sent,r=n.data,a(O(r)),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(0),a(R(c.t0.message));case 11:case"end":return c.stop()}}),null,null,[[0,8]])}},S=(a(156),a(30)),w=a(32),N=a(126),T=a(129),D=function(e){var t=e.label,a=Object(T.a)(e,["label"]),n=Object(S.c)(a),c=Object(N.a)(n,2),l=c[0],u=c[1];return r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:a.id||a.name,className:"text-primary"},t),r.a.createElement("input",Object.assign({className:"text-input form-control"},l,a)),u.touched&&u.error?r.a.createElement("div",{className:"error text-danger"},u.error):null)};var k=Object(s.b)((function(e){return{data:e.data,updating:e.updating}}),(function(e){return{postData:function(t){return e(function(e){return function(t){var a,n,r,c;return p.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return a=e,l.prev=1,l.next=4,p.a.awrap(x.a.post(v,a));case 4:n=l.sent,r=n.data,c=Object(g.a)(r),t(O(c)),l.next=13;break;case 10:l.prev=10,l.t0=l.catch(1),t(R(l.t0));case 13:case"end":return l.stop()}}),null,null,[[1,10]])}}(t))},updateData:function(t,a){return e(j(t,a))}}}))((function(e){return Object(n.useEffect)((function(){console.log("STATE",e.data),console.log("UPDATING",e.updating)}),[e.data,e.updating]),r.a.createElement("div",{className:"container card col-10 col-md-8 my-4 p-4"},r.a.createElement("h3",{className:"font-weight-bold text-uppercase text-primary"},e.updating.name?"Update Smurf":"Add Smurf"),r.a.createElement(S.b,{enableReinitialize:!0,initialValues:{name:e.updating.name||"",age:e.updating.age||0,height:e.updating.height||""},validationSchema:w.object({name:w.string().max(15,"Must be 15 characters or less").required("Required"),age:w.number().moreThan(.999999999,"Must be at least 1 years old").round().required("Required"),height:w.number().max(20,"No smurf is that tall").required("Required")}),onSubmit:function(t,a){var n,r,c,l;return p.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(n=a.setSubmitting,r=a.setErrors,c=a.setStatus,l=a.resetForm,u.prev=1,!e.updating.name){u.next=7;break}return u.next=5,p.a.awrap(e.updateData(e.updating,t));case 5:u.next=9;break;case 7:return u.next=9,p.a.awrap(e.postData(t));case 9:console.log(t),l({}),c({success:!0}),u.next=19;break;case 14:u.prev=14,u.t0=u.catch(1),c({success:!1}),n(!1),r({submit:u.t0.message});case 19:case"end":return u.stop()}}),null,null,[[1,14]])}},r.a.createElement(S.a,{className:"d-flex flex-wrap justify-content-center text-left"},r.a.createElement(D,{label:"Full Name",name:"name",type:"text",placeholder:"Write Full Name Here..."}),r.a.createElement(D,{label:"Age",name:"age",type:"text",placeholder:"Write Age Here..."}),r.a.createElement(D,{label:"Height in cm",name:"height",type:"text",placeholder:"Write Value of Height Here Only..."}),r.a.createElement("button",{type:"submit",className:"btn btn-outline-primary mx-3 justify-self-around"},e.updating.name?"Update":"Submit"))))}));var C=Object(s.b)((function(e){return{data:e.data}}),(function(e){return{deleteData:function(t){return e(function(e){return function(t,a){var n,r;return p.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t({type:"FETCH_REQUEST"}),n=a().data,r=Object(g.a)(a().data).filter((function(t){return t.id!==e})),t(O(r)),c.prev=4,c.next=7,p.a.awrap(x.a.delete("".concat(v,"/").concat(e)));case 7:c.next=12;break;case 9:c.prev=9,c.t0=c.catch(4),t((l=n,u=c.t0.message,{type:"DELETE_ERROR",payload:{data:l,error:u.message}}));case 12:case"end":return c.stop()}var l,u}),null,null,[[4,9]])}}(t))},updateData:function(t){return e(j(t))},updateRequest:function(t){return e({type:"UPDATE_REQUEST",payload:t})}}}))((function(e){return r.a.createElement("div",{className:"container col-sm-12 col-md-8 table-responsive mb-4"},r.a.createElement("h3",{className:"font-weight-bold text-uppercase text-primary"},"Smurf List"),r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Age"),r.a.createElement("th",{scope:"col"},"Height"),r.a.createElement("th",{scope:"col"},"Options"))),r.a.createElement("tbody",null,e.data.map((function(t,a){return r.a.createElement("tr",{key:t.id},r.a.createElement("th",{scope:"row"},a+1),r.a.createElement("td",null,t.name),r.a.createElement("td",null,"".concat(t.age," years old")),r.a.createElement("td",null,"".concat(t.height,"cm")),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-primary btn-sm md-mr-2 mr-sm-1 mb-2 mb-sm-0",onClick:function(){return e.updateRequest(t)}},"Update"),r.a.createElement("button",{className:"btn btn-danger btn-sm md-ml-2 ml-sm-1",onClick:function(){return e.deleteData(t.id)}},"Delete")))})))))})),U=function(e){function t(){return Object(d.a)(this,t),Object(b.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){return p.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.awrap(this.props.fetchData());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement("div",{className:"App py-4"},r.a.createElement("h1",{className:"text-primary"},"SMURFS! 2.0 W/ Redux"),r.a.createElement("p",{className:"col-sm-6 mx-auto"},"React CRUD App using Redux for State Management, Axios, Formik Forms with Yup Validation, and Bootstrap styling."),this.props.state.error?r.a.createElement("p",null,this.props.state.error):null,r.a.createElement(k,null),r.a.createElement(C,null))}}]),t}(n.Component),F=Object(s.b)((function(e){return{data:e.data,state:e}}),(function(e){return{fetchData:function(){return e((function(e){var t,a;return p.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e({type:"FETCH_REQUEST"}),n.prev=1,n.next=4,p.a.awrap(x.a.get(v));case 4:t=n.sent,a=t.data,e(O(a)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),e(R(n.t0.message));case 12:case"end":return n.stop()}}),null,null,[[1,9]])}))}}}))(U),H=(a(286),a(287),a(26)),A={loading:!1,data:[],error:"",updating:{}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_REQUEST":return Object(H.a)({},e,{loading:!0,updating:{}});case"FETCH_SUCCESS":return Object(H.a)({},e,{loading:!1,data:t.payload,updating:{}});case"FETCH_ERROR":return Object(H.a)({},e,{loading:!1,error:t.payload,updating:{}});case"DELETE_ERROR":return Object(H.a)({},e,{loading:!1,data:t.payload.data,error:t.payload.error,updating:{}});case"UPDATE_REQUEST":return Object(H.a)({},e,{loading:!0,updating:t.payload});default:return e}},q=Object(u.createStore)(_,Object(o.composeWithDevTools)(Object(u.applyMiddleware)(i.a)));l.a.render(r.a.createElement(s.a,{store:q},r.a.createElement(F,null)),document.getElementById("root"))}},[[130,1,2]]]);
//# sourceMappingURL=main.282965b5.chunk.js.map